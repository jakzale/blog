---
title: "Creating a Blog"
date: 2017-09-30T09:35:11+02:00
type: "post"
draft: true
description: "After repeatedly failing over and over again to start my own blog, I have
decided to try with hugo and see how it works out."
categories: ["meta", "Hugo"]
---
I have been experimenting with a lot of different blog engines or static
generation engines, but I for quite some time I couldn't get myself to get into
writting a blog.  It seemed that quite often either the idea of setting up the
static site generator was more distracting than writing the blog itself.
Nedless to say, I repeatedly failed over and over again to write my own blog.

Recently, I have been doing a lot of interesting things, and some of the bits I
learned where interesting enough that I wanted to write them down to share it
with other people, or simply so I will not forget them.  Then I was reminded of
one thing I heard that Scott Hanselman said in one of his podcasts, that he did
not write his blog for his audience, but he wrote his blog for himself, so he
would not forget what he learned.  I also stumbled upon a tweet by other famous
blogger, who said that most of success was due to writing down what he was
learning and putting it in places accessible by people, so I decided to give it
a try.

<!-- TODO: Find the reference mentioned in the text -->

# Switching to Hugo
I decided to go for the easiest option to write a blog.  I believe that the
first easiest option I had in mind was to set up an account on Medium, but then
I did not like the idea of putting my code snippets as separate gists, so I
looked for other options, and I found [hugo](https://gohugo.io).  After briefly
experimenting with hugo I liked how fast it was, therefore I decided to give it
a more go.

## Choosing a Theme
Initially I was agonising about the choice for the theme, but then I realised
that the choice of the theme did not really matter, as my posts would be written
in markdown and I could experiment with different themes and see how they play
out.  I ended up using
[future imperfect theme](https://github.com/jpescador/hugo-future-imperfect),
which among many things showed the length of the read in minutes, which is a
feature that I like personally.

## Switching to Chroma
Many themes use [Highlight.js](https://highlightjs.org) for syntax highlighting,
however most of Highlight.js builds do not include the support for F#.  While it
perfectly fine and very easy to download a build of Highlight.js that includes
the support for F# and switch to it, I disabled Highlight.js and switched to
server-side syntax highlighting using
[Chroma](https://github.com/alecthomas/chroma) for the time-being.

Chroma's support for F# is fairly good, you can check it below:
```fsharp
(**
Now, let's see if some more complex F# code will work
*)

namespace Random.Namespace

[<RequireQualifiedAccess>]
module Hugo =
    type Greeter () =
        let greet (name: string) =
            printfn "Hello, %s from Hugo!" name
        member __.Greet () =
            greet "world"
        
        member __.Greet (name: string) =
            greet name
```

# Figuring out the Ropes
After a minor back-and-forth, I believe I figured out how my current theme
works, and its quirks.

## Posts placed in Blog folder
Future Imperfect theme places posts in the `/blog` folder, so there is a
somewhat nicer organisation of the content, however, they still specify all the
behaviour for `post` content, probably because thats Hugo's default.  Therefore
every entry in `/blog` needs to have an explicit `type: "post"` in their header.

I find that solution slightly clunky, but it works for now, and I am not sure
what would be a better solution.

## Updated Archetype
I took the default archetype generated by Hugo and updated it to match Future
Imperfect theme.  I added the explicit `type: "post"` mentioned above, and I
also added the keywords for meta-data used by the theme.  I greatly enjoy the
ability to generate titles from the filenames.

```yaml
---
title: "{{ replace .TranslationBaseName "-" " " | title }}"
date: {{ .Date }}
type: "post"
draft: true
categories: []
description: ""
---

```

# Publishing
I published this blog on GitHub pages using the
[excellent tutorial](https://gohugo.io/hosting-and-deployment/hosting-on-github/#host-github-user-or-organization-pages)
from the Hugo's documentation.  Frankly speaking, it was much simpler that I
anticipated!

However, there is one thing I noticed, that the `<USERNAME>.github.io` repo
should not be empty --- when I tried to perform the instructions with an empty
repo, git got into some weird inconsisted state.  I had to add a commit to the
`<USERNAME>.github.io` repo and I had to re-add the submodule.

Also, I decided to put a `.nojekyll` file in the root of my
`<USERNAME>.github.io` repo, to prevent Jekyll from running on my blog.

# Conclusion (for now)
So far I had a lot of fun with Hugo, as it requires a very little setup and most
of the features work out-of-the-box.  Also, I decided not to worry about my
overall setup and presentation and fix things as I will write more, this way at
least I will not get side-tracked by a problem or the *next-shiny-thing*.


